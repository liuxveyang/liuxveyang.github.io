<!DOCTYPE html>
<html lang="zh-cn">
	<head>
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="author" content="liuxueyang">
<meta name="description" content="舊博客">
<meta name="generator" content="Hugo 0.48" />
<title>hdu 1059 Dividing ——多重背包复习</title>
<link rel="shortcut icon" href="https://liuxveyang.github.io/images/favicon.ico">
<link rel="stylesheet" href="https://liuxveyang.github.io/css/style.css">
<link rel="stylesheet" href="https://liuxveyang.github.io/css/highlight.css">



<link rel="stylesheet" href="https://liuxveyang.github.io/css/monosocialiconsfont.css">



<link href="https://liuxveyang.github.io/index.xml" rel="alternate" type="application/rss+xml" title="LXY Site" />


<meta property="og:title" content="hdu 1059 Dividing ——多重背包复习" />
<meta property="og:description" content="Dividing
Time Limit: 2000&frasl;1000 MS (Java/Others) Memory Limit: 65536&frasl;32768 K (Java/Others) Total Submission(s): 11367 Accepted Submission(s): 3168" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://liuxveyang.github.io/posts/hdu-1059-dividing-%E5%A4%9A%E9%87%8D%E8%83%8C%E5%8C%85%E5%A4%8D%E4%B9%A0/" /><meta property="article:published_time" content="2013-04-05T12:29:00&#43;00:00"/>
<meta property="article:modified_time" content="2013-04-05T12:29:00&#43;00:00"/>


<meta itemprop="name" content="hdu 1059 Dividing ——多重背包复习">
<meta itemprop="description" content="Dividing
Time Limit: 2000&frasl;1000 MS (Java/Others) Memory Limit: 65536&frasl;32768 K (Java/Others) Total Submission(s): 11367 Accepted Submission(s): 3168">


<meta itemprop="datePublished" content="2013-04-05T12:29:00&#43;00:00" />
<meta itemprop="dateModified" content="2013-04-05T12:29:00&#43;00:00" />
<meta itemprop="wordCount" content="613">



<meta itemprop="keywords" content="DP,Hdu," />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="hdu 1059 Dividing ——多重背包复习"/>
<meta name="twitter:description" content="Dividing
Time Limit: 2000&frasl;1000 MS (Java/Others) Memory Limit: 65536&frasl;32768 K (Java/Others) Total Submission(s): 11367 Accepted Submission(s): 3168"/>


    </head>
<body>
    <nav class="main-nav">
	
		<a href='https://liuxveyang.github.io'> <span class="arrow">←</span>Home</a>
	

	

	
		<a class="cta" href="https://liuxveyang.github.io/index.xml">Subscribe</a>
	
</nav>

    <section id="wrapper">
        
        
<article class="post">
    <header>
        <h1>hdu 1059 Dividing ——多重背包复习</h1>
        <h2 class="subtitle"></h2>
        <h2 class="headline">
        April 5, 2013
        <br>
        
        
            
                <a href="https://liuxveyang.github.io/tags/dp">DP</a>
            
                <a href="https://liuxveyang.github.io/tags/hdu">Hdu</a>
            
        
        
        </h2>
    </header>
    <section id="post-body">
        <p>Dividing</p>

<p>Time Limit: <sup>2000</sup>&frasl;<sub>1000</sub> MS (Java/Others)    Memory Limit: <sup>65536</sup>&frasl;<sub>32768</sub> K (Java/Others)
Total Submission(s): 11367    Accepted Submission(s): 3168</p>

<p>Problem Description
Marsha and Bill own a collection of marbles. They want to split the collection among themselves so that both receive an equal share of the marbles. This would be easy if all the marbles had the same value, because then they could just split the collection in half. But unfortunately, some of the marbles are larger, or more beautiful than others. So, Marsha and Bill start by assigning a value, a natural number between one and six, to each marble. Now they want to divide the marbles so that each of them gets the same total value.
Unfortunately, they realize that it might be impossible to divide the marbles in this way (even if the total value of all marbles is even). For example, if there are one marble of value 1, one of value 3 and two of value 4, then they cannot be split into sets of equal value. So, they ask you to write a program that checks whether there is a fair partition of the marbles.</p>

<p>Input
Each line in the input describes one collection of marbles to be divided. The lines consist of six non-negative integers n1, n2, &hellip;, n6, where ni is the number of marbles of value i. So, the example from above would be described by the input-line ``1 0 1 2 0 0&rdquo;. The maximum total number of marbles will be 20000.</p>

<p>The last line of the input file will be ``0 0 0 0 0 0&rdquo;; do not process this line.</p>

<p>Output
For each colletcion, output <code>Collection #k:'', where k is the number of the test case, and then either</code>Can be divided.&rdquo; or ``Can&rsquo;t be divided.&ldquo;.</p>

<p>Output a blank line after each test case.</p>

<p>Sample Input
1 0 1 2 0 0 1 0 0 0 1 1 0 0 0 0 0 0</p>

<p>Sample Output
Collection #1: Can&rsquo;t be divided.</p>

<p>Collection #2: Can be divided.</p>

<p>多重背包。
背包九讲多重背包模板：</p>

<pre><code class="language-python">def MultiplePack(F, C, W, M)
　　if C * M &gt;= V
　　　　CompletePack(F, C, W)
　　　　return
　　k = 1
　　while (k &lt; M)
　　　　ZeroOnePack(k * C, k * W)
　　　　M = M - k
　　　　k = k * 2
　　ZeroOnePack(C * M, W * M)
</code></pre>

<p>然后就照着写的，这题以前做过，为了复习多重背包，又做了一遍……</p>

<pre><code class="language-cpp">#include &lt;iostream&gt;
#include &lt;cstdio&gt;
#include &lt;cstdlib&gt;
#include &lt;cstring&gt;
#include &lt;cctype&gt;
#include &lt;stack&gt;
#include &lt;queue&gt;
#include &lt;cmath&gt;
#include &lt;algorithm&gt;
#define lson l, m, rt&lt;&lt;1
#define rson m+1, r, rt&lt;&lt;1|1
using namespace std;
typedef long long int LL;
const int MAXN =  0x3f3f3f3f;
const int  MIN =  -0x3f3f3f3f;
const double eps = 1e-9;

int F[20000*6+1], V;
void complete(int c, int w){
  for (int v = c; v &lt;= V; ++v)
    F[v] = max(F[v], F[v-c] + w);
}
void zeropack(int c, int w){
  for (int v = V; v &gt;= c; --v)
    F[v] = max(F[v], F[v-c] + w);
}
int main(void){
#ifndef ONLINE_JUDGE
  freopen(&quot;hdu1059.in&quot;, &quot;r&quot;, stdin);
#endif
  int t = 1, a[7];
  while (~scanf(&quot;%d&quot;, a+1)){
    int sum = a[1];
    for (int i = 2; i &lt;= 6; ++i){
      scanf(&quot;%d&quot;, a+i); sum += i*a[i];
    }
    if (!sum) break;
//    if (t != 1) printf(&quot;\n&quot;);
    printf(&quot;Collection #%d:\n&quot;, t); t++;
    if (sum&amp;1){
      printf(&quot;Can't be divided.\n\n&quot;); continue;
    }
    V = sum &gt;&gt; 1;
    memset(F, MIN, sizeof(F));
    F[0] = 0; int k;
    for (int i = 1; i &lt;= 6; ++i){
      if (!a[i]) continue;
      if  (i * a[i] &gt;= V){
        complete(i, 1); continue;
      }
      k = 1;
      while (k &lt; a[i]){
        zeropack(k * i, k * 1); a[i] -= k; k &lt;&lt;= 1;
      }
      zeropack(i * a[i], 1 * a[i]);
    }
    if (F[V] &gt;= 0){
      printf(&quot;Can be divided.\n&quot;);
    }
    else printf(&quot;Can't be divided.\n&quot;);
    printf(&quot;\n&quot;);
  }

  return 0;
}
</code></pre>

<p>真不知道hduoj是怎么想的，有时候需要最后一个case要加一个换行，有时候却不需要……比如这题38行的注释就是最后一个case不加空行……结果PE了。</p>

    </section>
</article>

<footer id="post-meta" class="clearfix">
    
    <img class="avatar" src="https://liuxveyang.github.io/images/avatar.png">
    <div>
        <span class="dark">liuxueyang</span>
        <span>I am a learner. :P</span>
    </div>
    
    <section id="sharing">
        <a class="twitter" href="https://twitter.com/intent/tweet?text=https%3a%2f%2fliuxveyang.github.io%2fposts%2fhdu-1059-dividing-%25E5%25A4%259A%25E9%2587%258D%25E8%2583%258C%25E5%258C%2585%25E5%25A4%258D%25E4%25B9%25A0%2f - hdu%201059%20Dividing%20%e2%80%94%e2%80%94%e5%a4%9a%e9%87%8d%e8%83%8c%e5%8c%85%e5%a4%8d%e4%b9%a0 "><span class="icon-twitter"> tweet</span></a>

<a class="facebook" href="#" onclick="
    window.open(
      'https://www.facebook.com/sharer/sharer.php?u='+encodeURIComponent(location.href),
      'facebook-share-dialog',
      'width=626,height=436');
    return false;"><span class="icon-facebook-rect"> Share</span>
</a>

    </section>
</footer>

<div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "liuxveyang" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

<ul id="post-list" class="archive readmore">
    <h3>Read more</h3>

    
    
    
        <li>
            <a href="/posts/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B06%E6%8A%80%E6%9C%AF%E7%B1%BB/">读书笔记6「技术类」<aside class="dates">May 14 2018</aside></a>
        </li>
    
        <li>
            <a href="/posts/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B05/">读书笔记5<aside class="dates">Apr 29 2018</aside></a>
        </li>
    
        <li>
            <a href="/posts/%E6%95%B4%E7%90%86%E5%8D%9A%E5%AE%A2/">整理博客<aside class="dates">Apr 29 2018</aside></a>
        </li>
    
        <li>
            <a href="/posts/2017-12-23-summary-for-2017/">2017 年结束了<aside class="dates">Dec 23 2017</aside></a>
        </li>
    
        <li>
            <a href="/posts/clustering/">Clustering<aside class="dates">May 17 2017</aside></a>
        </li>
    
        <li>
            <a href="/posts/building-roads-to-connect-cities/">Building Roads to Connect Cities<aside class="dates">May 17 2017</aside></a>
        </li>
    
        <li>
            <a href="/posts/detecting-anomalies-in-currency-exchange-rates/">Detecting Anomalies in Currency Exchange Rates<aside class="dates">May 17 2017</aside></a>
        </li>
    
        <li>
            <a href="/posts/computing-minimum-cost-of-a-flight/">Computing the Minimum Cost of a Flight<aside class="dates">May 17 2017</aside></a>
        </li>
    
        <li>
            <a href="/posts/checking-whether-a-graph-is-bipartite/">Checking whether a Graph is Bipartite<aside class="dates">May 17 2017</aside></a>
        </li>
    
        <li>
            <a href="/posts/computing-minimum-number-of-flight-segments/">Computing the Minimum Number of Flight Segments<aside class="dates">May 16 2017</aside></a>
        </li>
    
</ul>



        <footer id="footer">
    
        <div id="social">

	
	
    
    <a class="symbol" href="https://www.github.com/liuxueyang">
        circlegithub
    </a>
    


</div>

    
    <p class="small">
    
        © Copyright 2018 liuxueyang
    
    </p>
</footer>

    </section>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
<script src="https://liuxveyang.github.io/js/main.js"></script>
<script src="https://liuxveyang.github.io/js/highlight.js"></script>
<script>hljs.initHighlightingOnLoad();</script>




<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-125224924-1', 'auto');
	
	ga('send', 'pageview');
}
</script>


</body>
</html>
